<!DOCTYPE html>
<html>
  <head>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.1-rc.0/web3.min.js"
      integrity="sha512-Ui9NE+/XdhwxssTrWetwWgpwpZJCLgTpB2dgkq+xe3O7lmZEJe+2rw3OT3YbYIUCQWH5dOO8ObLOYmbUVpPBgw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style type="text/css">
      .p {
        text-align: justify;
      }
    </style>
  </head>

  <body>
    <!--Navbar-->

    <div class="navbar-fixed">
      <nav class="green lighten-3">
        <div class="container">
          <div class="nav-wrapper">
            <a href="#!" class="brand-logo"><img src="img/logo2.png" alt="" width="200" height="60" class="d-inline-block align-text-top" /></a>
            <a href="#" data-target="mobile-nav" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
              <li><a href="index.html">Beranda</a></li>
              <li><a href="partisipasi.html">Partisipasi</a></li>
              <li><a href="informasi.html">Informasi</a></li>
              <li><a href="produk.html">Produk</a></li>
              <li><a href="tentang.html">Tentang</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
    <!--Sidenav-->
    <ul class="sidenav" id="mobile-nav">
      <li><a href="index.html">Beranda</a></li>
      <li><a href="partisipasi.html">Partisipasi</a></li>
      <li><a href="informasi.html">Informasi</a></li>
      <li><a href="produk.html">Produk</a></li>
      <li><a href="tentang.html">Tentang</a></li>
    </ul>
    <!--Akhir Sidenav-->
    <!--AKhir Navbar-->
    <!--Login-->
    <div class="section">
      <div class="container">
        <div class="row">
          <div class="col m8">
            <div class="card-panel teal">
              <span class="white-text">
                <p>Login Admin for Input</p>
                <div class="row">
                  <div class="col s12">
                    <div class="row">
                      <div class="input-field col s6">
                        <i class="material-icons prefix">account_circle</i>
                        <input id="username" type="text" class="validate" />
                        <label for="username">ID</label>
                      </div>
                      <div class="input-field col s6">
                        <i class="material-icons prefix">lock_outline</i>
                        <input id="password" type="password" class="validate" />
                        <label for="password">Password</label>
                      </div>
                    </div>
                    <button class="waves-effect waves-light btn-small" onclick="login()">In</button>
                    <button class="waves-effect waves-light btn-small" onclick="connecting()">Koneksi Ke Metamask</button>
                  </div>
                </div>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--Akhir Login-->
    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script type="text/javascript" src="blockchain.js"></script>
    <script>
      const sidenav = document.querySelectorAll('.sidenav');
      M.Sidenav.init(sidenav);
      function login() {
        var user = document.getElementById('username').value;
        var pass = document.getElementById('password').value;
        console.log(user, pass);
        maincontract.methods
          .loginuser(user, pass)
          .call({
            from: contractAddress,
          })
          .then(function (result) {
            console.log(result);
            if (result) {
              window.location.replace('http://plasschain.netlify.app/pendataan.html?');
            }
            //document.getElementById('login').innerText = result;
          });
      }
    </script>
  </body>
</html>
